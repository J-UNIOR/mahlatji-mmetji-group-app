import{e as k,f as E,i as w,j as I}from"./chunk-S7UMAMZL.js";import{Bb as s,Db as n,Eb as f,Fb as d,Ga as o,La as _,Qb as C,Ra as M,Sb as b,Va as h,ga as P,ha as x,ib as l,jb as e,kb as t,lb as i,pc as v,rb as O,sb as g,tb as p,tc as S,uc as y}from"./chunk-DQSC4IK2.js";function T(c,m){if(c&1&&(e(0,"div",32)(1,"h3"),n(2,"System Status"),t(),e(3,"div",33)(4,"div",34),i(5,"i",13),e(6,"span"),n(7,"API Services"),t(),e(8,"span",35),n(9),t()(),e(10,"div",34),i(11,"i",13),e(12,"span"),n(13,"Database"),t(),e(14,"span",35),n(15),t()(),e(16,"div",34),i(17,"i",13),e(18,"span"),n(19,"File Storage"),t(),e(20,"span",35),n(21),t()()(),e(22,"p",36),n(23),C(24,"date"),t()()),c&2){let r=p();o(4),s("status-ok",r.serverStatus.api)("status-error",!r.serverStatus.api),o(),s("fa-check-circle",r.serverStatus.api)("fa-times-circle",!r.serverStatus.api),o(4),f(r.serverStatus.api?"Operational":"Degraded"),o(),s("status-ok",r.serverStatus.database)("status-error",!r.serverStatus.database),o(),s("fa-check-circle",r.serverStatus.database)("fa-times-circle",!r.serverStatus.database),o(4),f(r.serverStatus.database?"Operational":"Degraded"),o(),s("status-ok",r.serverStatus.storage)("status-error",!r.serverStatus.storage),o(),s("fa-check-circle",r.serverStatus.storage)("fa-times-circle",!r.serverStatus.storage),o(4),f(r.serverStatus.storage?"Operational":"Degraded"),o(2),d(" Last updated: ",b(24,28,r.lastStatusUpdate,"medium")," ")}}function U(c,m){if(c&1&&(e(0,"div",40)(1,"div",41)(2,"strong"),n(3,"Error ID:"),t(),n(4),t(),e(5,"div",41)(6,"strong"),n(7,"Timestamp:"),t(),n(8),C(9,"date"),t(),e(10,"div",41)(11,"strong"),n(12,"URL:"),t(),n(13),t(),e(14,"div",41)(15,"strong"),n(16,"User Agent:"),t(),n(17),t(),e(18,"div",42),i(19,"i",24),n(20," Please include the Error ID when reporting this issue to our support team. "),t()()),c&2){let r=p(2);o(4),d(" ",r.errorId," "),o(4),d(" ",b(9,4,r.errorTimestamp,"medium")," "),o(5),d(" ",r.requestUrl," "),o(4),d(" ",r.userAgent," ")}}function z(c,m){if(c&1){let r=O();e(0,"div",37)(1,"button",38),g("click",function(){P(r);let u=p();return x(u.toggleTechnicalDetails())}),i(2,"i",13),n(3," Technical Details "),t(),h(4,U,21,7,"div",39),t()}if(c&2){let r=p();o(2),s("fa-chevron-down",!r.technicalDetailsExpanded)("fa-chevron-up",r.technicalDetailsExpanded),o(2),l("ngIf",r.technicalDetailsExpanded)}}var D=class c{constructor(m,r){this.router=m;this.uxService=r}retrying=!1;showStatusUpdates=!0;showTechnicalDetails=!0;technicalDetailsExpanded=!1;errorId=this.generateErrorId();errorTimestamp=new Date;requestUrl=window.location.href;userAgent=navigator.userAgent;lastStatusUpdate=new Date;serverStatus={api:!1,database:!1,storage:!0};ngOnInit(){this.uxService.measureUserInteraction("500-error-encountered"),console.error("500 Error encountered:",{errorId:this.errorId,url:this.requestUrl,timestamp:this.errorTimestamp,userAgent:this.userAgent}),this.checkSystemStatus()}generateErrorId(){return"ERR-"+Date.now().toString(36).toUpperCase()+"-"+Math.random().toString(36).substr(2,5).toUpperCase()}retryRequest(){this.retrying=!0,setTimeout(()=>{this.retrying=!1,Math.random()>.7?(this.uxService.showToast("Connection restored! Redirecting...","success"),setTimeout(()=>{window.location.reload()},1e3)):this.uxService.showToast("Still experiencing issues. Please try again later.","error")},2e3),this.uxService.measureUserInteraction("500-retry-attempted")}reportIssue(){let m=encodeURIComponent(`Error Report - ${this.errorId}`),r=encodeURIComponent(`
Error ID: ${this.errorId}
Timestamp: ${this.errorTimestamp}
URL: ${this.requestUrl}
User Agent: ${this.userAgent}

Description of what you were trying to do:
[Please describe what action led to this error]

Additional Information:
[Any other relevant details]
    `),a=`mailto:support@mahlatjimmetji.co.za?subject=${m}&body=${r}`;window.location.href=a,this.uxService.measureUserInteraction("500-issue-reported")}checkSystemStatus(){this.lastStatusUpdate=new Date,setTimeout(()=>{this.serverStatus={api:Math.random()>.3,database:Math.random()>.4,storage:Math.random()>.1}},1e3),this.uxService.measureUserInteraction("500-status-checked")}toggleTechnicalDetails(){this.technicalDetailsExpanded=!this.technicalDetailsExpanded,this.uxService.measureUserInteraction("500-technical-details-toggled")}static \u0275fac=function(r){return new(r||c)(_(k),_(I))};static \u0275cmp=M({type:c,selectors:[["app-error-500"]],decls:70,vars:10,consts:[[1,"error-page"],[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-8","text-center"],[1,"error-illustration"],[1,"error-number"],[1,"error-icon"],["aria-hidden","true",1,"fa","fa-exclamation-triangle"],[1,"error-content"],[1,"lead"],[1,"error-details"],[1,"error-actions-inline"],[1,"btn","btn-primary",3,"click","disabled"],["aria-hidden","true",1,"fa"],[1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-bug"],["class","status-section",4,"ngIf"],[1,"alternative-actions"],[1,"action-grid"],[1,"action-card"],["aria-hidden","true",1,"fa","fa-home"],["routerLink","/",1,"btn","btn-outline-primary"],["aria-hidden","true",1,"fa","fa-phone"],["routerLink","/contact",1,"btn","btn-outline-primary"],["aria-hidden","true",1,"fa","fa-info-circle"],[1,"btn","btn-outline-primary",3,"click"],["class","error-technical",4,"ngIf"],[1,"emergency-contact"],[1,"emergency-contacts"],["href","tel:+27120010576",1,"emergency-contact"],["href","mailto:support@mahlatjimmetji.co.za",1,"emergency-contact"],["aria-hidden","true",1,"fa","fa-envelope"],[1,"status-section"],[1,"status-items"],[1,"status-item"],[1,"status-text"],[1,"status-note"],[1,"error-technical"],[1,"btn","btn-link",3,"click"],["class","technical-content",4,"ngIf"],[1,"technical-content"],[1,"tech-detail"],[1,"tech-note"]],template:function(r,a){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),n(6,"500"),t(),e(7,"div",6),i(8,"i",7),t()(),e(9,"div",8)(10,"h1"),n(11,"Internal Server Error"),t(),e(12,"p",9),n(13," We're experiencing some technical difficulties. Our team has been notified and is working to fix this issue. "),t(),e(14,"div",10)(15,"h3"),n(16,"What happened?"),t(),e(17,"p"),n(18," A server error occurred while processing your request. This is not your fault, and the issue is on our end. "),t(),e(19,"div",11)(20,"button",12),g("click",function(){return a.retryRequest()}),i(21,"i",13),n(22),t(),e(23,"button",14),g("click",function(){return a.reportIssue()}),i(24,"i",15),n(25," Report Issue "),t()()()(),h(26,T,25,31,"div",16),e(27,"div",17)(28,"h3"),n(29,"What can you do?"),t(),e(30,"div",18)(31,"div",19),i(32,"i",20),e(33,"h4"),n(34,"Visit Homepage"),t(),e(35,"p"),n(36,"Go back to our main page and browse our services"),t(),e(37,"a",21),n(38,"Go Home"),t()(),e(39,"div",19),i(40,"i",22),e(41,"h4"),n(42,"Contact Support"),t(),e(43,"p"),n(44,"Get in touch with our team for immediate assistance"),t(),e(45,"a",23),n(46,"Contact Us"),t()(),e(47,"div",19),i(48,"i",24),e(49,"h4"),n(50,"Check Status"),t(),e(51,"p"),n(52,"Visit our status page for real-time system updates"),t(),e(53,"button",25),g("click",function(){return a.checkSystemStatus()}),n(54," Check Status "),t()()()(),h(55,z,5,5,"div",26),e(56,"div",27)(57,"h4"),n(58,"Need Immediate Help?"),t(),e(59,"p"),n(60,"Our emergency support team is available 24/7"),t(),e(61,"div",28)(62,"a",29),i(63,"i",22),e(64,"span"),n(65,"Emergency Line: +27 12 001 0576"),t()(),e(66,"a",30),i(67,"i",31),e(68,"span"),n(69,"support@mahlatjimmetji.co.za"),t()()()()()()()()),r&2&&(o(20),l("disabled",a.retrying),o(),s("fa-sync",!a.retrying)("fa-spinner",a.retrying)("fa-spin",a.retrying),o(),d(" ",a.retrying?"Retrying...":"Try Again"," "),o(4),l("ngIf",a.showStatusUpdates),o(29),l("ngIf",a.showTechnicalDetails))},dependencies:[y,v,w,E,S],styles:[".error-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;background:linear-gradient(135deg,#fef7f0,#fed7d7);padding:2rem 0}.error-illustration[_ngcontent-%COMP%]{position:relative;margin-bottom:3rem}.error-number[_ngcontent-%COMP%]{font-size:8rem;font-weight:900;color:#e53e3e;line-height:1;text-shadow:2px 2px 4px rgba(0,0,0,.1);margin-bottom:1rem;animation:_ngcontent-%COMP%_pulse 2s infinite ease-in-out}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.8;transform:scale(1.05)}}.error-icon[_ngcontent-%COMP%]{font-size:3rem;color:#e53e3e;opacity:.8}.error-content[_ngcontent-%COMP%]{margin-bottom:3rem}.error-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#333;margin-bottom:1rem}.error-content[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{font-size:1.2rem;color:#666;margin-bottom:2rem}.error-details[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:15px;box-shadow:0 4px 20px #0000001a;border-left:4px solid #e53e3e;margin-bottom:2rem;text-align:left}.error-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#e53e3e;font-size:1.3rem;margin-bottom:1rem}.error-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:1.5rem}.error-actions-inline[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.status-section[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:15px;box-shadow:0 4px 20px #0000001a;margin-bottom:3rem}.status-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;color:#333;margin-bottom:1.5rem}.status-items[_ngcontent-%COMP%]{display:grid;gap:1rem;margin-bottom:1rem}.status-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;border-radius:8px;background:#f8f9fa}.status-item.status-ok[_ngcontent-%COMP%]{background:#48bb781a;color:#2f855a}.status-item.status-error[_ngcontent-%COMP%]{background:#e53e3e1a;color:#c53030}.status-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.status-text[_ngcontent-%COMP%]{margin-left:auto;font-weight:600}.status-note[_ngcontent-%COMP%]{font-size:.9rem;color:#666;text-align:center;margin:0}.alternative-actions[_ngcontent-%COMP%]{margin-bottom:3rem}.alternative-actions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-bottom:2rem}.action-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.action-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:15px;box-shadow:0 4px 20px #0000001a;text-align:center;transition:all .3s ease}.action-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 30px #00000026}.action-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;color:#e53e3e;margin-bottom:1rem}.action-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem;color:#333;margin-bottom:1rem}.action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:1.5rem;font-size:.95rem}.error-technical[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem;border-radius:10px;margin-bottom:2rem;border:1px dashed #dee2e6}.technical-content[_ngcontent-%COMP%]{margin-top:1rem;text-align:left}.tech-detail[_ngcontent-%COMP%]{padding:.5rem 0;border-bottom:1px solid #dee2e6;font-family:monospace;font-size:.9rem}.tech-detail[_ngcontent-%COMP%]:last-child{border-bottom:none}.tech-detail[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;display:inline-block;width:120px}.tech-note[_ngcontent-%COMP%]{background:#e53e3e1a;padding:1rem;border-radius:8px;margin-top:1rem;color:#c53030;font-size:.9rem}.tech-note[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.emergency-contact[_ngcontent-%COMP%]{background:#e53e3e;color:#fff;padding:2rem;border-radius:15px;text-align:center}.emergency-contact[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:1rem}.emergency-contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.5rem;opacity:.9}.emergency-contacts[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;justify-content:center}.emergency-contact[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#fff3;padding:.75rem 1rem;border-radius:8px;color:#fff;text-decoration:none;transition:all .3s ease}.emergency-contact[_ngcontent-%COMP%]:hover{background:#ffffff4d;color:#fff;text-decoration:none;transform:translateY(-2px)}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:600;text-decoration:none;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;border:2px solid transparent;cursor:pointer}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background:#e53e3e;color:#fff;border-color:#e53e3e}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#c53030;border-color:#c53030;transform:translateY(-2px);box-shadow:0 4px 15px #e53e3e4d}.btn-outline-primary[_ngcontent-%COMP%]{background:transparent;color:#e53e3e;border-color:#e53e3e}.btn-outline-primary[_ngcontent-%COMP%]:hover{background:#e53e3e;color:#fff;transform:translateY(-2px)}.btn-outline-secondary[_ngcontent-%COMP%]{background:transparent;color:#666;border-color:#666}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background:#666;color:#fff;transform:translateY(-2px)}.btn-link[_ngcontent-%COMP%]{background:none;border:none;color:#e53e3e;text-decoration:underline;padding:.5rem}.btn-link[_ngcontent-%COMP%]:hover{color:#c53030;text-decoration:none}@media (max-width: 768px){.error-page[_ngcontent-%COMP%]{padding:1rem 0}.error-number[_ngcontent-%COMP%]{font-size:6rem}.error-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.error-content[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{font-size:1rem}.error-details[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%], .emergency-contact[_ngcontent-%COMP%]{padding:1.5rem}.action-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.error-actions-inline[_ngcontent-%COMP%]{flex-direction:column}.emergency-contacts[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.dark-theme[_nghost-%COMP%]   .error-page[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .error-page[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2d1b1b,#4a1a1a);color:#fff}.dark-theme[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .status-section[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .status-section[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .action-card[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .action-card[_ngcontent-%COMP%]{background:#2d2d2d;border:1px solid #555}.dark-theme[_nghost-%COMP%]   .error-technical[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .error-technical[_ngcontent-%COMP%]{background:#404040;border-color:#666}.dark-theme[_nghost-%COMP%]   .status-item[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .status-item[_ngcontent-%COMP%]{background:#404040}.high-contrast[_nghost-%COMP%]   .error-page[_ngcontent-%COMP%], .high-contrast   [_nghost-%COMP%]   .error-page[_ngcontent-%COMP%]{background:#fff;color:#000}.high-contrast[_nghost-%COMP%]   .error-number[_ngcontent-%COMP%], .high-contrast   [_nghost-%COMP%]   .error-number[_ngcontent-%COMP%]{color:#c00}.high-contrast[_nghost-%COMP%]   .btn-primary[_ngcontent-%COMP%], .high-contrast   [_nghost-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#c00;border-color:#c00}.high-contrast[_nghost-%COMP%]   .emergency-contact[_ngcontent-%COMP%], .high-contrast   [_nghost-%COMP%]   .emergency-contact[_ngcontent-%COMP%]{background:#c00}@media (prefers-reduced-motion: reduce){.error-number[_ngcontent-%COMP%]{animation:none}.btn[_ngcontent-%COMP%], .action-card[_ngcontent-%COMP%], .emergency-contact[_ngcontent-%COMP%]{transition:none}.btn[_ngcontent-%COMP%]:hover, .action-card[_ngcontent-%COMP%]:hover, .emergency-contact[_ngcontent-%COMP%]:hover{transform:none}}.fa-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fa-spin 1s infinite linear}@keyframes _ngcontent-%COMP%_fa-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};export{D as Error500Component};
